# This is playbook for a service engine group
---
- hosts: localhost
  connection: local
  collections:
    - vmware.alb
  vars:
    segroup_name: segroup1
    vcenter_name: vcenter
    vcenter_folder: test
    cluster_ids: 
       - Cluster
    datastore_ids: 
       - vsanDatastore
       - nfsDatastore
    # app_port: 6443
  
  tasks:
    - name: Setting up Service Engine Group
      debug: msg="{{ segroup_name }}"

    - name: Avi Application | Setup Service Engine Group
      import_role:
        name: aviconfig
      vars:
        avi_config_file: "{{ site_dir }}/segroups/{{segroup_name}}/config.yml"
        avi_creds_file: "{{ site_dir }}/vars/creds.yml"
